function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,i,a){return i&&_defineProperties(e.prototype,i),a&&_defineProperties(e,a),e}var SCREEN_RATIO=16/9,maxScroll=0,WINDOW=$(window);function moveInfinate(){var e=0;setInterval(function(){$(".infiniteList").css("margin",e),e-=5},100)}function reDrawImages(e){e.width(e.height()*SCREEN_RATIO)}function openIcon(e){e.css("display","block")}function closeIcon(e){e.css("display","none")}function sendEmail(){var e=getFieldData();$.ajax({url:"/api/send_email_to_admin/12/",type:"POST",data:e,dataType:"json",success:function(e){"success"==e?($(".contactForm__send").addClass("is-complete"),$("#btntxt").text("Отправлено")):alert("Произошла ошибка при отправке сообщения. Попробуйте повторить операцию позднее.")}})}reDrawImages($(".infiniteItem")),$("#header-menu, #hideMenu").on("click",function(e){$(".side-header").toggleClass("open"),$(".backlayer").toggleClass("-visible-"),$(".side-header").hasClass("open")?$(".hmenu-text").html("Close"):$(".hmenu-text").html("Menu")}),$(".side-header").on("click",function(e){$(".side-header").hasClass("open")&&($(".side-header").removeClass("open"),$(".backlayer").removeClass("-visible-"),$(".side-header .line.is-b").css("display","block"),$(".hmenu-text").html("Menu"))}),$(".toggleBtn").on("click",function(e){var i=$(this),a=i.attr("toggle-target"),s=$('.toggleList[toggle-data="'.concat(a,'"]'));i.find(".toggleBtn__icon").empty(),i.hasClass("collapse")?(i.removeClass("collapse"),s.addClass("-hidden-"),i.find(".toggleBtn__icon").append('<i class="fas fa-caret-down"></i>')):(i.addClass("collapse"),s.removeClass("-hidden-"),i.find(".toggleBtn__icon").append('<i class="fas fa-caret-up"></i>'))}),$(".iconBtnBox").on("click",function(e){e.stopPropagation(),$(this).toggleClass("open"),$(this).hasClass("open")?closeIcon($(this).find(".line.is-b")):openIcon($(this).find(".line.is-b"))}),WINDOW.on("resize",function(e){reDrawImages($(".infiniteItem"))});var Field=function(){function e(i){_classCallCheck(this,e),this.name=i.name,this.field=$(i.field),this.err_msg=i.err_msg,this.is_valid=!1}return _createClass(e,[{key:"validate",value:function(){return""==this.field.val()?this.is_valid=!1:this.is_valid=!0,this.is_valid}}]),e}(),Validator=function(){function e(i){_classCallCheck(this,e),this.fields={},this.is_form_valid=!1,this._init(i)}return _createClass(e,[{key:"_init",value:function(e){for(var i in e)this.fields[e[i].name]=new Field(e[i])}},{key:"isFieldValid",value:function(e){return this.fields[e].validate()}},{key:"isFormValid",value:function(){for(var e in this.is_form_valid=!1,this.fields){if(1!=this.fields[e].validate()){this.is_form_valid=!1;break}this.is_form_valid=!0}return this.is_form_valid}}]),e}(),validator=new Validator([{name:"name",field:"#name",err_msg:"Поле 'ФИО' не должно быть пустым"},{name:"email",field:"#email",err_msg:"Поле 'E-mail' не должно быть пустым"},{name:"message",field:"#message",err_msg:"Поле 'Сообщение' не должно быть пустым"}]);function getFieldData(){var e={};return e.name=$("#name").val(),e.company=$("#company").val(),e.email=$("#email").val(),e.website=$("#website").val(),e.reason=$("#reason option:selected").val(),e.message=$("#message").val(),e}function checkField(e){validator.isFieldValid(e)?(validator.fields[e].field.addClass("on_success"),validator.fields[e].field.removeClass("on_error")):(console.log(validator.fields[e].err_msg),validator.fields[e].field.removeClass("on_success"),validator.fields[e].field.addClass("on_error"))}$(".form_input").on("change",function(e){e.preventDefault(),checkField($(this).attr("name"))}),$(".form_input").on("keyup",function(e){e.preventDefault(),checkField($(this).attr("name")),validator.isFormValid()&&$(".contactForm__send").addClass("is-ok")}),$("#send_email").on("click",sendEmail);