"use strict";function _slicedToArray(e,a){return _arrayWithHoles(e)||_iterableToArrayLimit(e,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,a){var n=[],i=!0,t=!1,s=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(n.push(o.value),!a||n.length!==a);i=!0);}catch(e){t=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(t)throw s}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}var SCREEN_RATIO=16/9,maxScroll=0,WINDOW=$(window);function moveInfinate(){var e=0;setInterval(function(){$(".infiniteList").css("margin",e),e-=5},100)}function reDrawImages(e){e.width(e.height()*SCREEN_RATIO)}function openIcon(e){e.css("display","block")}function closeIcon(e){e.css("display","none")}function sendEmail(){var e=getFieldData();$.ajax({url:"/api/send_email_to_admin/12/",type:"POST",data:e,dataType:"json",success:function(e){"success"==e?$(".contactForm__send").addClass("is-complete"):alert("Произошла ошибка при отправке сообщения. Попробуйте повторить операцию позднее."),console.log("response:",e)}})}function getFieldData(){var e={};return e.name=$("#name").val(),e.company=$("#company").val(),e.email=$("#email").val(),e.website=$("#website").val(),e.reason=$("#reason option:selected").val(),e.message=$("#message").val(),e}function isValid(e){var a={},n=!0;return""==e.name&&(n=!1,a.name="Поле 'ФИО' не должно быть пустым"),""==e.email&&(n=!1,a.email="Поле 'E-mail' не должно быть пустым"),""==e.email&&(n=!1,a.message="Поле 'Сообщение' не должно быть пустым"),n?[!0,e]:[n,a]}function checkFields(){var e=_slicedToArray(isValid(getFieldData()),2),a=e[0],n=e[1];a?$(".contactForm__send").addClass("is-ok"):console.log(n)}reDrawImages($(".infiniteItem")),$("#header-menu, #hideMenu").on("click",function(e){$(".side-header").toggleClass("open"),$(".backlayer").toggleClass("-visible-"),$(".side-header").hasClass("open")?$(".hmenu-text").html("Закрыть"):$(".hmenu-text").html("Меню")}),$(".side-header").on("click",function(e){$(".side-header").hasClass("open")&&($(".side-header").removeClass("open"),$(".backlayer").removeClass("-visible-"),$(".side-header .line.is-b").css("display","block"),$(".hmenu-text").html("Меню"))}),$(".toggleBtn").on("click",function(e){var a=$(this),n=a.attr("toggle-target"),i=$('.toggleList[toggle-data="'.concat(n,'"]'));a.find(".toggleBtn__icon").empty(),a.hasClass("collapse")?(a.removeClass("collapse"),i.addClass("-hidden-"),a.find(".toggleBtn__icon").append('<i class="fas fa-caret-down"></i>')):(a.addClass("collapse"),i.removeClass("-hidden-"),a.find(".toggleBtn__icon").append('<i class="fas fa-caret-up"></i>'))}),$(".iconBtnBox").on("click",function(e){e.stopPropagation(),$(this).toggleClass("open"),$(this).hasClass("open")?closeIcon($(this).find(".line.is-b")):openIcon($(this).find(".line.is-b"))}),WINDOW.on("resize",function(e){reDrawImages($(".infiniteItem"))}),$(".form_input").on("change",checheckFields),$("#send_email").on("click",sendEmail);